{"ast":null,"code":"import _slicedToArray from\"C:/Users/Junji/Desktop/Igor/Igor-Matsuoka/modulo6/cubo/front-end/cubo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import GlobalStateContext from\"./globalStateContext\";import{baseUrl}from\"../constants/baseUrl\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";var GlobalState=function GlobalState(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),person=_useState2[0],setPerson=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),update=_useState4[0],setUpdate=_useState4[1];var getUsers=function getUsers(){var url=\"\".concat(baseUrl,\"/users\");axios.get(url).then(function(res){setPerson(res.data.user);}).catch(function(error){console.log(error.data);});};var send=function send(form){axios.post(\"\".concat(baseUrl,\"/users/submit\"),form).then(function(res){console.log(res);}).catch(function(error){console.log(error.message);});};var deleteUser=function deleteUser(id){var url=\"\".concat(baseUrl,\"/users/delete/\").concat(id);axios.delete(url).then(function(res){getUsers();}).catch(function(error){console.log(error.response);});};var states={person:person,update:update};var setters={setPerson:setPerson,getUsers:getUsers,send:send,setUpdate:setUpdate,deleteUser:deleteUser};return/*#__PURE__*/_jsx(GlobalStateContext.Provider,{value:{states:states,setters:setters},children:props.children});};export default GlobalState;","map":{"version":3,"sources":["C:/Users/Junji/Desktop/Igor/Igor-Matsuoka/modulo6/cubo/front-end/cubo/src/global/globalState.js"],"names":["React","useState","GlobalStateContext","baseUrl","axios","GlobalState","props","person","setPerson","update","setUpdate","getUsers","url","get","then","res","data","user","catch","error","console","log","send","form","post","message","deleteUser","id","delete","response","states","setters","children"],"mappings":"2JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,CACA,OAASC,OAAT,KAAwB,sBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,2CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,CAE3B,cAA4BL,QAAQ,CAAC,EAAD,CAApC,wCAAOM,MAAP,eAAeC,SAAf,eACA,eAA4BP,QAAQ,CAAC,CAAD,CAApC,yCAAOQ,MAAP,eAAeC,SAAf,eAGA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnB,GAAMC,CAAAA,GAAG,WAAMT,OAAN,UAAT,CACAC,KAAK,CAACS,GAAN,CAAUD,GAAV,EACCE,IADD,CACM,SAACC,GAAD,CAAO,CACTP,SAAS,CAACO,GAAG,CAACC,IAAJ,CAASC,IAAV,CAAT,CACH,CAHD,EAICC,KAJD,CAIO,SAACC,KAAD,CAAS,CACZC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACH,IAAlB,EACH,CAND,EAOH,CATD,CAWA,GAAMM,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,IAAD,CAAU,CACnBnB,KAAK,CAACoB,IAAN,WAAcrB,OAAd,kBAAsCoB,IAAtC,EACCT,IADD,CACM,SAACC,GAAD,CAAO,CACTK,OAAO,CAACC,GAAR,CAAYN,GAAZ,EACH,CAHD,EAICG,KAJD,CAIO,SAACC,KAAD,CAAS,CACZC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACM,OAAlB,EACH,CAND,EAOH,CARD,CAUA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,EAAD,CAAQ,CACvB,GAAMf,CAAAA,GAAG,WAAMT,OAAN,0BAA8BwB,EAA9B,CAAT,CACAvB,KAAK,CAACwB,MAAN,CAAahB,GAAb,EACCE,IADD,CACM,SAACC,GAAD,CAAO,CACTJ,QAAQ,GACX,CAHD,EAICO,KAJD,CAIO,SAACC,KAAD,CAAS,CACZC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACU,QAAlB,EACH,CAND,EAOH,CATD,CAYA,GAAMC,CAAAA,MAAM,CAAG,CAAEvB,MAAM,CAANA,MAAF,CAAUE,MAAM,CAANA,MAAV,CAAf,CACA,GAAMsB,CAAAA,OAAO,CAAG,CAAEvB,SAAS,CAATA,SAAF,CAAaG,QAAQ,CAARA,QAAb,CAAuBW,IAAI,CAAJA,IAAvB,CAA6BZ,SAAS,CAATA,SAA7B,CAAwCgB,UAAU,CAAVA,UAAxC,CAAhB,CAEA,mBACI,KAAC,kBAAD,CAAoB,QAApB,EAA6B,KAAK,CAAE,CAACI,MAAM,CAANA,MAAD,CAASC,OAAO,CAAPA,OAAT,CAApC,UACKzB,KAAK,CAAC0B,QADX,EADJ,CAKH,CA/CD,CAiDA,cAAe3B,CAAAA,WAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport GlobalStateContext from \"./globalStateContext\"\r\nimport { baseUrl } from \"../constants/baseUrl\";\r\nimport axios from \"axios\";\r\n\r\nconst GlobalState = (props) => {\r\n\r\n    const [person, setPerson] = useState([])\r\n    const [update, setUpdate] = useState(0)\r\n\r\n\r\n    const getUsers = () => {\r\n        const url = `${baseUrl}/users`\r\n        axios.get(url)\r\n        .then((res)=>{\r\n            setPerson(res.data.user)\r\n        })\r\n        .catch((error)=>{\r\n            console.log(error.data)\r\n        })\r\n    }\r\n\r\n    const send = (form) => {\r\n        axios.post(`${baseUrl}/users/submit`, form)\r\n        .then((res)=>{\r\n            console.log(res)\r\n        })\r\n        .catch((error)=>{\r\n            console.log(error.message)\r\n        })\r\n    }\r\n\r\n    const deleteUser = (id) => {\r\n        const url = `${baseUrl}/users/delete/${id}`\r\n        axios.delete(url)\r\n        .then((res)=>{\r\n            getUsers()\r\n        })\r\n        .catch((error)=>{\r\n            console.log(error.response)\r\n        })\r\n    }\r\n\r\n\r\n    const states = { person, update }\r\n    const setters = { setPerson, getUsers, send, setUpdate, deleteUser }\r\n\r\n    return (\r\n        <GlobalStateContext.Provider value={{states, setters}}>\r\n            {props.children}\r\n        </GlobalStateContext.Provider>\r\n    )\r\n}\r\n\r\nexport default GlobalState;"]},"metadata":{},"sourceType":"module"}