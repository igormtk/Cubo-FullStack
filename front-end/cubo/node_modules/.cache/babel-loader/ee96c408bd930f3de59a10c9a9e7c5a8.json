{"ast":null,"code":"import React,{useContext,useEffect}from\"react\";import GlobalStateContext from\"../global/globalStateContext\";import{TableContainer}from\"./styledUsersTable\";import{ButtonDelete}from\"./styledUsersTable\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UsersTable=function UsersTable(props){var _useContext=useContext(GlobalStateContext),states=_useContext.states,setters=_useContext.setters;useEffect(function(){setters.getUsers();},[states.update]);var total=states.person.reduce(getTotal,0);function getTotal(total,user){return total+user.participation;}var usersResult=states.person&&states.person.map(function(user,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.lastName}),/*#__PURE__*/_jsxs(\"td\",{children:[(100/total*user.participation).toFixed(2),\"%\"]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(ButtonDelete,{onClick:function onClick(){return setters.deleteUser(user.id);},children:\"REMOVE\"})})]},user.id);});return/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsx(\"table\",{id:\"collapseTable\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Participation(%)\"})]}),usersResult]})})});};export default UsersTable;","map":{"version":3,"sources":["C:/Users/Junji/Desktop/Igor/Igor-Matsuoka/modulo6/cubo/front-end/cubo/src/components/usersTable.js"],"names":["React","useContext","useEffect","GlobalStateContext","TableContainer","ButtonDelete","UsersTable","props","states","setters","getUsers","update","total","person","reduce","getTotal","user","participation","usersResult","map","index","name","lastName","toFixed","deleteUser","id"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,KAA4C,OAA5C,CACA,MAAOC,CAAAA,kBAAP,KAA+B,8BAA/B,CACA,OAASC,cAAT,KAA+B,oBAA/B,CACA,OAASC,YAAT,KAA6B,oBAA7B,C,wFAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CAE1B,gBAA4BN,UAAU,CAACE,kBAAD,CAAtC,CAAQK,MAAR,aAAQA,MAAR,CAAgBC,OAAhB,aAAgBA,OAAhB,CAEAP,SAAS,CAAC,UAAM,CACZO,OAAO,CAACC,QAAR,GACH,CAFQ,CAEN,CAACF,MAAM,CAACG,MAAR,CAFM,CAAT,CAIA,GAAIC,CAAAA,KAAK,CAAGJ,MAAM,CAACK,MAAP,CAAcC,MAAd,CAAqBC,QAArB,CAA+B,CAA/B,CAAZ,CACA,QAASA,CAAAA,QAAT,CAAkBH,KAAlB,CAAyBI,IAAzB,CAA+B,CAC3B,MAAOJ,CAAAA,KAAK,CAAII,IAAI,CAACC,aAArB,CACH,CAED,GAAMC,CAAAA,WAAW,CAAGV,MAAM,CAACK,MAAP,EAAiBL,MAAM,CAACK,MAAP,CAAcM,GAAd,CAAkB,SAACH,IAAD,CAAOI,KAAP,CAAgB,CACnE,mBAAO,mCAEH,oBAAKA,KAAK,CAAG,CAAb,EAFG,cAGH,oBAAKJ,IAAI,CAACK,IAAV,EAHG,cAIH,oBAAKL,IAAI,CAACM,QAAV,EAJG,cAKH,sBAAM,CAAG,IAAIV,KAAL,CAAaI,IAAI,CAACC,aAApB,EAAoCM,OAApC,CAA4C,CAA5C,CAAN,OALG,cAMH,iCAAI,KAAC,YAAD,EAAc,OAAO,CAAE,yBAAMd,CAAAA,OAAO,CAACe,UAAR,CAAmBR,IAAI,CAACS,EAAxB,CAAN,EAAvB,oBAAJ,EANG,GAAST,IAAI,CAACS,EAAd,CAAP,CAQH,CAToC,CAArC,CAWA,mBAAQ,KAAC,cAAD,wBAEA,cAAO,EAAE,CAAC,eAAV,uBACA,sCACA,mCACI,aADJ,cAEI,4BAFJ,cAGI,iCAHJ,cAII,wCAJJ,GADA,CASCP,WATD,GADA,EAFA,EAAR,CAkBH,CA1CD,CA4CA,cAAeZ,CAAAA,UAAf","sourcesContent":["import React, { useContext, useEffect }from \"react\";\r\nimport GlobalStateContext from \"../global/globalStateContext\";\r\nimport { TableContainer } from \"./styledUsersTable\";\r\nimport { ButtonDelete } from \"./styledUsersTable\";\r\n\r\nconst UsersTable = (props) => {\r\n\r\n    const { states, setters } = useContext(GlobalStateContext)\r\n\r\n    useEffect(() => {\r\n        setters.getUsers()\r\n    }, [states.update])\r\n\r\n    var total = states.person.reduce(getTotal, 0);\r\n    function getTotal(total, user) {\r\n        return total + (user.participation);\r\n    }\r\n\r\n    const usersResult = states.person && states.person.map((user, index)=> {\r\n        return <tr key={user.id}>\r\n        \r\n            <td>{index + 1}</td>\r\n            <td>{user.name}</td>\r\n            <td>{user.lastName}</td>\r\n            <td>{ ( (100/total) *user.participation ).toFixed(2)}%</td>\r\n            <td><ButtonDelete onClick={() => setters.deleteUser(user.id)}>REMOVE</ButtonDelete></td>\r\n        </tr>\r\n    })\r\n\r\n    return (<TableContainer>\r\n          \r\n            <table id=\"collapseTable\">\r\n            <tbody>\r\n            <tr>\r\n                <th></th>\r\n                <th>Name</th>\r\n                <th>Last Name</th>\r\n                <th>Participation(%)</th>\r\n                \r\n            </tr>\r\n         \r\n            {usersResult}\r\n            </tbody>\r\n            </table>\r\n           \r\n        </TableContainer>\r\n    )\r\n}\r\n\r\nexport default UsersTable"]},"metadata":{},"sourceType":"module"}